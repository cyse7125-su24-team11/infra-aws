{"format_version":"1.2","terraform_version":"1.5.7","variables":{"region":{"value":"us-east-1"}},"planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.db.helm_release.postgresql","mode":"managed","type":"helm_release","name":"postgresql","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"postgresql","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"keyring":null,"lint":false,"max_history":0,"name":"postgresql","namespace":"cve-consumer-app-ns","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://charts.bitnami.com/bitnami","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"values":["    postgresqlUsername: postgres\n    postgresqlDatabase: cve\n    auth:\n      existingSecret: postgresql\n      existingSecretPasswordKey: \"postgres-password\"\n   volumePermissions:\n      enabled: true\n    persistence:\n      enabled: true\n      mountPath: /data\n    readinessProbe:\n      initialDelaySeconds: 30\n      periodSeconds: 10\n      timeoutSeconds: 5\n      successThreshold: 1\n      failureThreshold: 5\n"],"verify":false,"version":"15.5.9","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[],"postrender":[],"set":[],"set_list":[],"set_sensitive":[],"values":[false]}},{"address":"module.db.kubernetes_secret.postgresql","mode":"managed","type":"kubernetes_secret","name":"postgresql","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"binary_data":null,"data":{"postgres-password":"226636b87e8de017"},"immutable":null,"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"postgresql","namespace":"cve-consumer-app-ns"}],"timeouts":null,"type":"Opaque","wait_for_service_account_token":true},"sensitive_values":{"data":{},"metadata":[{}]}},{"address":"module.db.random_id.postgres","mode":"managed","type":"random_id","name":"postgres","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"b64_std":"ImY2uH6N4Bc=","b64_url":"ImY2uH6N4Bc","byte_length":8,"dec":"2478728810939146263","hex":"226636b87e8de017","id":"ImY2uH6N4Bc","keepers":null,"prefix":null},"sensitive_values":{}}],"address":"module.db"},{"resources":[{"address":"module.eks.aws_cloudwatch_log_group.cluster_logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"cluster_logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/eks/cve-eks/cluster","retention_in_days":1,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.aws_eks_addon.core_dns","mode":"managed","type":"aws_eks_addon","name":"core_dns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"coredns","addon_version":"v1.11.1-eksbuild.9","cluster_name":"cve-eks","configuration_values":"{\"replicaCount\":2}","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","service_account_role_arn":null,"tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.aws_eks_addon.ebs_csi","mode":"managed","type":"aws_eks_addon","name":"ebs_csi","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"aws-ebs-csi-driver","addon_version":"v1.31.0-eksbuild.1","cluster_name":"cve-eks","preserve":false,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.aws_eks_addon.kube-proxy","mode":"managed","type":"aws_eks_addon","name":"kube-proxy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"kube-proxy","addon_version":"v1.29.3-eksbuild.5","cluster_name":"cve-eks","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","service_account_role_arn":null,"tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.aws_eks_addon.pod_identity","mode":"managed","type":"aws_eks_addon","name":"pod_identity","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"eks-pod-identity-agent","addon_version":"v1.3.0-eksbuild.1","cluster_name":"cve-eks","configuration_values":"{\"agent\":{\"additionalArgs\":{\"-b\":\"169.254.170.23\"}}}","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.aws_eks_addon.vpc-cni","mode":"managed","type":"aws_eks_addon","name":"vpc-cni","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"vpc-cni","addon_version":"v1.18.2-eksbuild.1","cluster_name":"cve-eks","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.aws_eks_cluster.eks","mode":"managed","type":"aws_eks_cluster","name":"eks","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_config":[{"authentication_mode":"API_AND_CONFIG_MAP","bootstrap_cluster_creator_admin_permissions":true}],"enabled_cluster_log_types":["api","audit","authenticator","controllerManager","scheduler"],"encryption_config":[{"provider":[{"key_arn":"arn:aws:kms:us-east-1:533267343403:key/b0ca221d-7cf3-4cde-8a49-145a70de913b"}],"resources":["secrets"]}],"kubernetes_network_config":[{"ip_family":"ipv4"}],"name":"cve-eks","outpost_config":[],"tags":null,"timeouts":null,"version":"1.29","vpc_config":[{"endpoint_private_access":true,"endpoint_public_access":true}]},"sensitive_values":{"access_config":[{}],"certificate_authority":[],"enabled_cluster_log_types":[false,false,false,false,false],"encryption_config":[{"provider":[{}],"resources":[false]}],"identity":[],"kubernetes_network_config":[{}],"outpost_config":[],"tags_all":{},"vpc_config":[{"public_access_cidrs":[],"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.eks.aws_eks_pod_identity_association.pod_identity_association","mode":"managed","type":"aws_eks_pod_identity_association","name":"pod_identity_association","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cluster_name":"cve-eks","namespace":"kube-system","service_account":"ebs-csi-controller-sa","tags":null,"tags_all":{}},"sensitive_values":{"tags_all":{}}},{"address":"module.eks.data.tls_certificate.oidc_cert","mode":"data","type":"tls_certificate","name":"oidc_cert","provider_name":"registry.terraform.io/hashicorp/tls","schema_version":0,"values":{"content":null,"verify_chain":null},"sensitive_values":{"certificates":[]}},{"address":"module.eks.null_resource.update_kubeconfig","mode":"managed","type":"null_resource","name":"update_kubeconfig","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":null},"sensitive_values":{}}],"address":"module.eks"},{"resources":[{"address":"module.iam.aws_iam_openid_connect_provider.oidc_provider","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"client_id_list":["sts.amazonaws.com"],"tags":null},"sensitive_values":{"client_id_list":[false],"tags_all":{},"thumbprint_list":[]}},{"address":"module.iam.aws_iam_policy.ebs_csi_custom_policy","mode":"managed","type":"aws_iam_policy","name":"ebs_csi_custom_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"ebs-csi-custom-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:CreateSnapshot\",\"ec2:AttachVolume\",\"ec2:DetachVolume\",\"ec2:ModifyVolume\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeInstances\",\"ec2:DescribeSnapshots\",\"ec2:DescribeTags\",\"ec2:DescribeVolumes\",\"ec2:DescribeVolumesModifications\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:CreateTags\"],\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":[\"ec2:DeleteTags\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":[\"ec2:CreateVolume\"],\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:CreateVolume\"],\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteVolume\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteVolume\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteSnapshot\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteSnapshot\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.iam.aws_iam_policy.ebs_csi_kms_policy","mode":"managed","type":"aws_iam_policy","name":"ebs_csi_kms_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"ebs-csi-kms-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"kms:CreateGrant\",\"kms:ListGrants\",\"kms:RevokeGrant\"],\"Condition\":{\"Bool\":{\"kms:GrantIsForAWSResource\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a\"]},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a\"]}],\"Version\":\"2012-10-17\"}","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.iam.aws_iam_policy.pass_role_policy","mode":"managed","type":"aws_iam_policy","name":"pass_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"pass_role_policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"iam:PassRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"Statement1\"}],\"Version\":\"2012-10-17\"}","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.iam.aws_iam_role.ebs-pod-identity-role","mode":"managed","type":"aws_iam_role","name":"ebs-pod-identity-role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"eks-pod-identity","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.iam.aws_iam_role.ebs_csi_role","mode":"managed","type":"aws_iam_role","name":"ebs_csi_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"ebs-csi-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"ebs-csi-role"},"tags_all":{"tag-key":"ebs-csi-role"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.eks_cluster_role","mode":"managed","type":"aws_iam_role","name":"eks_cluster_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"eks-cluster-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"eks-cluster-role"},"tags_all":{"tag-key":"eks-cluster-role"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.eks_pod_identity_role","mode":"managed","type":"aws_iam_role","name":"eks_pod_identity_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"eks-pod-identity-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"eks-pod-identity-role"},"tags_all":{"tag-key":"eks-pod-identity-role"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.node_group_role","mode":"managed","type":"aws_iam_role","name":"node_group_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"node-group-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"node-group-role"},"tags_all":{"tag-key":"node-group-role"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.oidc_iam_role","mode":"managed","type":"aws_iam_role","name":"oidc_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"oidc_iam_role","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.iam.aws_iam_role.vpc_cni_role","mode":"managed","type":"aws_iam_role","name":"vpc_cni_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"vpc-cni-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"vpc-cni-role"},"tags_all":{"tag-key":"vpc-cni-role"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs-pod-identity-custom-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs-pod-identity-custom-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"eks-pod-identity"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs-pod-identity-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs-pod-identity-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy","role":"eks-pod-identity"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs_csi_AmazonEBSCSIDriverPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_AmazonEBSCSIDriverPolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy","role":"ebs-csi-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs_csi_custom_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_custom_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"ebs-csi-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs_csi_kms_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_kms_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"ebs-csi-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.eks-AmazonEKSServicePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks-AmazonEKSServicePolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSServicePolicy","role":"eks-cluster-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.eks_AmazonEC2ContainerRegistryReadOnly","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"eks-cluster-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.eks_AmazonEKSClusterPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEKSClusterPolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","role":"eks-cluster-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.eks_AmazonEKSWorkerNodePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"eks-cluster-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEBSCSIDriverPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEBSCSIDriverPolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy","role":"node-group-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEC2ContainerRegistryReadOnly","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"node-group-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEKSWorkerNodePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"node-group-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEKS_CNI_Policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"node-group-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_kms_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_kms_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"node-group-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.pass_role_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"pass_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"eks-pod-identity-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.vpc_cni_AmazonEKS_CNI_Policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc_cni_AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"vpc-cni-role"},"sensitive_values":{}},{"address":"module.iam.data.aws_iam_policy_document.ebs_csi_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"ebs_csi_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:ebs-csi-controller-sa"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null},{"actions":["sts:AssumeRole","sts:TagSession"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["pods.eks.amazonaws.com"],"type":"Service"}],"resources":null,"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]},{"actions":[false,false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},{"address":"module.iam.data.aws_iam_policy_document.oidc_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"oidc_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:aws-node"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},{"address":"module.iam.data.aws_iam_policy_document.pod_identity_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"pod_identity_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:aws-node"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},{"address":"module.iam.data.aws_iam_policy_document.vpc_cni_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"vpc_cni_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:aws-node"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]}]}}],"address":"module.iam"},{"resources":[{"address":"module.k8s.kubernetes_config_map_v1_data.aws_auth_configmap","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth_configmap","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"field_manager":"Terraform","force":true,"metadata":[{"name":"aws-auth","namespace":"kube-system"}]},"sensitive_values":{"data":{},"metadata":[{}]}},{"address":"module.k8s.kubernetes_namespace.cve_consumer_app_ns","mode":"managed","type":"kubernetes_namespace","name":"cve_consumer_app_ns","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"cve-consumer-app-ns"}],"timeouts":null,"wait_for_default_service_account":false},"sensitive_values":{"metadata":[{}]}},{"address":"module.k8s.kubernetes_namespace.cve_processor_job_ns","mode":"managed","type":"kubernetes_namespace","name":"cve_processor_job_ns","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"cve-processor-job-ns"}],"timeouts":null,"wait_for_default_service_account":false},"sensitive_values":{"metadata":[{}]}},{"address":"module.k8s.null_resource.kubeconfig","mode":"managed","type":"null_resource","name":"kubeconfig","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":null},"sensitive_values":{}}],"address":"module.k8s"},{"resources":[{"address":"module.network.aws_eip.elastic_ip[0]","mode":"managed","type":"aws_eip","name":"elastic_ip","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"cve-vpc-eip-1"},"tags_all":{"Name":"cve-vpc-eip-1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_eip.elastic_ip[1]","mode":"managed","type":"aws_eip","name":"elastic_ip","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"cve-vpc-eip-2"},"tags_all":{"Name":"cve-vpc-eip-2"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_eip.elastic_ip[2]","mode":"managed","type":"aws_eip","name":"elastic_ip","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"cve-vpc-eip-3"},"tags_all":{"Name":"cve-vpc-eip-3"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"cve-vpc-internet-gw"},"tags_all":{"Name":"cve-vpc-internet-gw"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_nat_gateway.nat_gw[0]","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"cve-vpc-nat-gw-0"},"tags_all":{"Name":"cve-vpc-nat-gw-0"},"timeouts":null},"sensitive_values":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"module.network.aws_nat_gateway.nat_gw[1]","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"cve-vpc-nat-gw-1"},"tags_all":{"Name":"cve-vpc-nat-gw-1"},"timeouts":null},"sensitive_values":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"module.network.aws_nat_gateway.nat_gw[2]","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"cve-vpc-nat-gw-2"},"tags_all":{"Name":"cve-vpc-nat-gw-2"},"timeouts":null},"sensitive_values":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"module.network.aws_route_table.private_route_table[0]","mode":"managed","type":"aws_route_table","name":"private_route_table","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"cve-vpc-private-route-table-0"},"tags_all":{"Name":"cve-vpc-private-route-table-0"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.network.aws_route_table.private_route_table[1]","mode":"managed","type":"aws_route_table","name":"private_route_table","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"cve-vpc-private-route-table-1"},"tags_all":{"Name":"cve-vpc-private-route-table-1"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.network.aws_route_table.private_route_table[2]","mode":"managed","type":"aws_route_table","name":"private_route_table","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"cve-vpc-private-route-table-2"},"tags_all":{"Name":"cve-vpc-private-route-table-2"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.network.aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"public_route_table"},"tags_all":{"Name":"public_route_table"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.network.aws_route_table_association.private_subnets_rta[0]","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.network.aws_route_table_association.private_subnets_rta[1]","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.network.aws_route_table_association.private_subnets_rta[2]","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.network.aws_route_table_association.public_subnets_route[0]","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.network.aws_route_table_association.public_subnets_route[1]","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.network.aws_route_table_association.public_subnets_route[2]","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.network.aws_security_group.eks_sg","mode":"managed","type":"aws_security_group","name":"eks_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"eks_sg","revoke_rules_on_delete":false,"tags":{"Name":"eks_sg"},"tags_all":{"Name":"eks_sg"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}},{"address":"module.network.aws_subnet.private_subnets[0]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.2.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_subnet.private_subnets[1]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.2.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_subnet.private_subnets[2]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.2.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_subnet.public_subnets[0]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.2.4.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_subnet.public_subnets[1]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.2.5.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_subnet.public_subnets[2]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.2.6.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.network.aws_vpc.eks_vpc","mode":"managed","type":"aws_vpc","name":"eks_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.2.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"cve-vpc"},"tags_all":{"Name":"cve-vpc"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.network"},{"resources":[{"address":"module.node_group.aws_eks_node_group.node_group[0]","mode":"managed","type":"aws_eks_node_group","name":"node_group","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"ami_type":"AL2_x86_64","capacity_type":"ON_DEMAND","cluster_name":"cve-eks","disk_size":20,"force_update_version":false,"instance_types":["c3.large"],"labels":{"name":"cve-eks-node-group","role":"cve-eks-node-group-role"},"launch_template":[],"node_group_name":"cve-eks-node-group","remote_access":[],"scaling_config":[{"desired_size":3,"max_size":3,"min_size":3}],"tags":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"tags_all":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"taint":[],"timeouts":null,"update_config":[{"max_unavailable":3,"max_unavailable_percentage":null}],"version":"1.29"},"sensitive_values":{"instance_types":[false],"labels":{},"launch_template":[],"remote_access":[],"resources":[],"scaling_config":[{}],"subnet_ids":[],"tags":{},"tags_all":{},"taint":[],"update_config":[{}]}},{"address":"module.node_group.aws_eks_node_group.node_group[1]","mode":"managed","type":"aws_eks_node_group","name":"node_group","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"ami_type":"AL2_x86_64","capacity_type":"ON_DEMAND","cluster_name":"cve-eks","disk_size":20,"force_update_version":false,"instance_types":["c3.large"],"labels":{"name":"cve-eks-node-group","role":"cve-eks-node-group-role"},"launch_template":[],"node_group_name":"cve-eks-node-group","remote_access":[],"scaling_config":[{"desired_size":3,"max_size":3,"min_size":3}],"tags":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"tags_all":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"taint":[],"timeouts":null,"update_config":[{"max_unavailable":3,"max_unavailable_percentage":null}],"version":"1.29"},"sensitive_values":{"instance_types":[false],"labels":{},"launch_template":[],"remote_access":[],"resources":[],"scaling_config":[{}],"subnet_ids":[],"tags":{},"tags_all":{},"taint":[],"update_config":[{}]}},{"address":"module.node_group.aws_eks_node_group.node_group[2]","mode":"managed","type":"aws_eks_node_group","name":"node_group","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"ami_type":"AL2_x86_64","capacity_type":"ON_DEMAND","cluster_name":"cve-eks","disk_size":20,"force_update_version":false,"instance_types":["c3.large"],"labels":{"name":"cve-eks-node-group","role":"cve-eks-node-group-role"},"launch_template":[],"node_group_name":"cve-eks-node-group","remote_access":[],"scaling_config":[{"desired_size":3,"max_size":3,"min_size":3}],"tags":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"tags_all":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"taint":[],"timeouts":null,"update_config":[{"max_unavailable":3,"max_unavailable_percentage":null}],"version":"1.29"},"sensitive_values":{"instance_types":[false],"labels":{},"launch_template":[],"remote_access":[],"resources":[],"scaling_config":[{}],"subnet_ids":[],"tags":{},"tags_all":{},"taint":[],"update_config":[{}]}}],"address":"module.node_group"}]}},"resource_changes":[{"address":"module.db.helm_release.postgresql","module_address":"module.db","mode":"managed","type":"helm_release","name":"postgresql","provider_name":"registry.terraform.io/hashicorp/helm","change":{"actions":["create"],"before":null,"after":{"atomic":false,"chart":"postgresql","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"keyring":null,"lint":false,"max_history":0,"name":"postgresql","namespace":"cve-consumer-app-ns","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://charts.bitnami.com/bitnami","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"values":["    postgresqlUsername: postgres\n    postgresqlDatabase: cve\n    auth:\n      existingSecret: postgresql\n      existingSecretPasswordKey: \"postgres-password\"\n    volumePermissions:\n      enabled: true\n    persistence:\n      enabled: true\n      mountPath: /data\n    readinessProbe:\n      initialDelaySeconds: 30\n      periodSeconds: 10\n      timeoutSeconds: 5\n      successThreshold: 1\n      failureThreshold: 5\n"],"verify":false,"version":"15.5.9","wait":true,"wait_for_jobs":false},"after_unknown":{"id":true,"manifest":true,"metadata":true,"postrender":[],"set":[],"set_list":[],"set_sensitive":[],"values":[false]},"before_sensitive":false,"after_sensitive":{"metadata":[],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]}}},{"address":"module.db.kubernetes_secret.postgresql","module_address":"module.db","mode":"managed","type":"kubernetes_secret","name":"postgresql","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"binary_data":null,"data":{"postgres-password":"226636b87e8de017"},"immutable":null,"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"postgresql","namespace":"cve-consumer-app-ns"}],"timeouts":null,"type":"Opaque","wait_for_service_account_token":true},"after_unknown":{"data":{},"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}]},"before_sensitive":false,"after_sensitive":{"binary_data":true,"data":true,"metadata":[{}]}}},{"address":"module.db.random_id.postgres","module_address":"module.db","mode":"managed","type":"random_id","name":"postgres","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["no-op"],"before":{"b64_std":"ImY2uH6N4Bc=","b64_url":"ImY2uH6N4Bc","byte_length":8,"dec":"2478728810939146263","hex":"226636b87e8de017","id":"ImY2uH6N4Bc","keepers":null,"prefix":null},"after":{"b64_std":"ImY2uH6N4Bc=","b64_url":"ImY2uH6N4Bc","byte_length":8,"dec":"2478728810939146263","hex":"226636b87e8de017","id":"ImY2uH6N4Bc","keepers":null,"prefix":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.data.tls_certificate.oidc_cert","module_address":"module.eks","mode":"data","type":"tls_certificate","name":"oidc_cert","provider_name":"registry.terraform.io/hashicorp/tls","change":{"actions":["read"],"before":null,"after":{"content":null,"verify_chain":null},"after_unknown":{"certificates":true,"id":true,"url":true},"before_sensitive":false,"after_sensitive":{"certificates":[]}},"action_reason":"read_because_config_unknown"},{"address":"module.eks.aws_cloudwatch_log_group.cluster_logging","module_address":"module.eks","mode":"managed","type":"aws_cloudwatch_log_group","name":"cluster_logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/eks/cve-eks/cluster","retention_in_days":1,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"id":true,"log_group_class":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.core_dns","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"core_dns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"addon_name":"coredns","addon_version":"v1.11.1-eksbuild.9","cluster_name":"cve-eks","configuration_values":"{\"replicaCount\":2}","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","service_account_role_arn":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"created_at":true,"id":true,"modified_at":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.ebs_csi","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"ebs_csi","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"addon_name":"aws-ebs-csi-driver","addon_version":"v1.31.0-eksbuild.1","cluster_name":"cve-eks","preserve":false,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","tags":null,"timeouts":null},"after_unknown":{"arn":true,"configuration_values":true,"created_at":true,"id":true,"modified_at":true,"service_account_role_arn":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.kube-proxy","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"kube-proxy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"addon_name":"kube-proxy","addon_version":"v1.29.3-eksbuild.5","cluster_name":"cve-eks","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","service_account_role_arn":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"configuration_values":true,"created_at":true,"id":true,"modified_at":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.pod_identity","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"pod_identity","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"addon_name":"eks-pod-identity-agent","addon_version":"v1.3.0-eksbuild.1","cluster_name":"cve-eks","configuration_values":"{\"agent\":{\"additionalArgs\":{\"-b\":\"169.254.170.23\"}}}","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","tags":null,"timeouts":null},"after_unknown":{"arn":true,"created_at":true,"id":true,"modified_at":true,"service_account_role_arn":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.vpc-cni","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"vpc-cni","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"addon_name":"vpc-cni","addon_version":"v1.18.2-eksbuild.1","cluster_name":"cve-eks","preserve":null,"resolve_conflicts":null,"resolve_conflicts_on_create":null,"resolve_conflicts_on_update":"PRESERVE","tags":null,"timeouts":null},"after_unknown":{"arn":true,"configuration_values":true,"created_at":true,"id":true,"modified_at":true,"service_account_role_arn":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.aws_eks_cluster.eks","module_address":"module.eks","mode":"managed","type":"aws_eks_cluster","name":"eks","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_config":[{"authentication_mode":"API_AND_CONFIG_MAP","bootstrap_cluster_creator_admin_permissions":true}],"enabled_cluster_log_types":["api","audit","authenticator","controllerManager","scheduler"],"encryption_config":[{"provider":[{"key_arn":"arn:aws:kms:us-east-1:533267343403:key/b0ca221d-7cf3-4cde-8a49-145a70de913b"}],"resources":["secrets"]}],"kubernetes_network_config":[{"ip_family":"ipv4"}],"name":"cve-eks","outpost_config":[],"tags":null,"timeouts":null,"version":"1.29","vpc_config":[{"endpoint_private_access":true,"endpoint_public_access":true}]},"after_unknown":{"access_config":[{}],"arn":true,"certificate_authority":true,"cluster_id":true,"created_at":true,"enabled_cluster_log_types":[false,false,false,false,false],"encryption_config":[{"provider":[{}],"resources":[false]}],"endpoint":true,"id":true,"identity":true,"kubernetes_network_config":[{"service_ipv4_cidr":true,"service_ipv6_cidr":true}],"outpost_config":[],"platform_version":true,"role_arn":true,"status":true,"tags_all":true,"vpc_config":[{"cluster_security_group_id":true,"public_access_cidrs":true,"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"access_config":[{}],"certificate_authority":[],"enabled_cluster_log_types":[false,false,false,false,false],"encryption_config":[{"provider":[{}],"resources":[false]}],"identity":[],"kubernetes_network_config":[{}],"outpost_config":[],"tags_all":{},"vpc_config":[{"public_access_cidrs":[],"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.eks.aws_eks_pod_identity_association.pod_identity_association","module_address":"module.eks","mode":"managed","type":"aws_eks_pod_identity_association","name":"pod_identity_association","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cluster_name":"cve-eks","namespace":"kube-system","service_account":"ebs-csi-controller-sa","tags":null,"tags_all":{}},"after_unknown":{"association_arn":true,"association_id":true,"id":true,"role_arn":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.eks.null_resource.update_kubeconfig","module_address":"module.eks","mode":"managed","type":"null_resource","name":"update_kubeconfig","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.data.aws_iam_policy_document.ebs_csi_assume_role_policy","module_address":"module.iam","mode":"data","type":"aws_iam_policy_document","name":"ebs_csi_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:ebs-csi-controller-sa"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null},{"actions":["sts:AssumeRole","sts:TagSession"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["pods.eks.amazonaws.com"],"type":"Service"}],"resources":null,"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[{"values":[false],"variable":true},{"values":[false],"variable":true}],"not_principals":[],"principals":[{"identifiers":[true]}]},{"actions":[false,false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]},{"actions":[false,false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.iam.data.aws_iam_policy_document.oidc_assume_role_policy","module_address":"module.iam","mode":"data","type":"aws_iam_policy_document","name":"oidc_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:aws-node"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[{"values":[false],"variable":true},{"values":[false],"variable":true}],"not_principals":[],"principals":[{"identifiers":[true]}]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.iam.data.aws_iam_policy_document.pod_identity_assume_role_policy","module_address":"module.iam","mode":"data","type":"aws_iam_policy_document","name":"pod_identity_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:aws-node"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[{"values":[false],"variable":true},{"values":[false],"variable":true}],"not_principals":[],"principals":[{"identifiers":[true]}]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.iam.data.aws_iam_policy_document.vpc_cni_assume_role_policy","module_address":"module.iam","mode":"data","type":"aws_iam_policy_document","name":"vpc_cni_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"]},{"test":"StringEquals","values":["system:serviceaccount:kube-system:aws-node"]}],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":[null],"type":"Federated"}],"resources":null,"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[{"values":[false],"variable":true},{"values":[false],"variable":true}],"not_principals":[],"principals":[{"identifiers":[true]}]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.iam.aws_iam_openid_connect_provider.oidc_provider","module_address":"module.iam","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"client_id_list":["sts.amazonaws.com"],"tags":null},"after_unknown":{"arn":true,"client_id_list":[false],"id":true,"tags_all":true,"thumbprint_list":true,"url":true},"before_sensitive":false,"after_sensitive":{"client_id_list":[false],"tags_all":{},"thumbprint_list":[]}}},{"address":"module.iam.aws_iam_policy.ebs_csi_custom_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ebs_csi_custom_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"ebs-csi-custom-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:CreateSnapshot\",\"ec2:AttachVolume\",\"ec2:DetachVolume\",\"ec2:ModifyVolume\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeInstances\",\"ec2:DescribeSnapshots\",\"ec2:DescribeTags\",\"ec2:DescribeVolumes\",\"ec2:DescribeVolumesModifications\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:CreateTags\"],\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":[\"ec2:DeleteTags\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":[\"ec2:CreateVolume\"],\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:CreateVolume\"],\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteVolume\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteVolume\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteSnapshot\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DeleteSnapshot\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","tags":null},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.ebs_csi_kms_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ebs_csi_kms_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"ebs-csi-kms-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"kms:CreateGrant\",\"kms:ListGrants\",\"kms:RevokeGrant\"],\"Condition\":{\"Bool\":{\"kms:GrantIsForAWSResource\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a\"]},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a\"]}],\"Version\":\"2012-10-17\"}","tags":null},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.pass_role_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"pass_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"pass_role_policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"iam:PassRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"Statement1\"}],\"Version\":\"2012-10-17\"}","tags":null},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ebs-pod-identity-role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ebs-pod-identity-role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"eks-pod-identity","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ebs_csi_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ebs_csi_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"ebs-csi-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"ebs-csi-role"},"tags_all":{"tag-key":"ebs-csi-role"}},"after_unknown":{"arn":true,"assume_role_policy":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.eks_cluster_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"eks_cluster_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"eks-cluster-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"eks-cluster-role"},"tags_all":{"tag-key":"eks-cluster-role"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.eks_pod_identity_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"eks_pod_identity_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"eks-pod-identity-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"eks-pod-identity-role"},"tags_all":{"tag-key":"eks-pod-identity-role"}},"after_unknown":{"arn":true,"assume_role_policy":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.node_group_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"node_group_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}},{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"node-group-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"node-group-role"},"tags_all":{"tag-key":"node-group-role"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.oidc_iam_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"oidc_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"oidc_iam_role","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"assume_role_policy":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.iam.aws_iam_role.vpc_cni_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"vpc_cni_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"vpc-cni-role","path":"/","permissions_boundary":null,"tags":{"tag-key":"vpc-cni-role"},"tags_all":{"tag-key":"vpc-cni-role"}},"after_unknown":{"arn":true,"assume_role_policy":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs-pod-identity-custom-policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs-pod-identity-custom-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"eks-pod-identity"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs-pod-identity-policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs-pod-identity-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy","role":"eks-pod-identity"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs_csi_AmazonEBSCSIDriverPolicy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_AmazonEBSCSIDriverPolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy","role":"ebs-csi-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs_csi_custom_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_custom_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"ebs-csi-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ebs_csi_kms_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_kms_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"ebs-csi-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.eks-AmazonEKSServicePolicy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks-AmazonEKSServicePolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSServicePolicy","role":"eks-cluster-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.eks_AmazonEC2ContainerRegistryReadOnly","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"eks-cluster-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.eks_AmazonEKSClusterPolicy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEKSClusterPolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","role":"eks-cluster-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.eks_AmazonEKSWorkerNodePolicy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"eks-cluster-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEBSCSIDriverPolicy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEBSCSIDriverPolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy","role":"node-group-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEC2ContainerRegistryReadOnly","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"node-group-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEKSWorkerNodePolicy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"node-group-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEKS_CNI_Policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"node-group-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.node_group_kms_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_kms_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"node-group-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.pass_role_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"pass_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"eks-pod-identity-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.vpc_cni_AmazonEKS_CNI_Policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc_cni_AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"vpc-cni-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.k8s.kubernetes_config_map_v1_data.aws_auth_configmap","module_address":"module.k8s","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth_configmap","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"field_manager":"Terraform","force":true,"metadata":[{"name":"aws-auth","namespace":"kube-system"}]},"after_unknown":{"data":true,"id":true,"metadata":[{}]},"before_sensitive":false,"after_sensitive":{"data":{},"metadata":[{}]}}},{"address":"module.k8s.kubernetes_namespace.cve_consumer_app_ns","module_address":"module.k8s","mode":"managed","type":"kubernetes_namespace","name":"cve_consumer_app_ns","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"cve-consumer-app-ns"}],"timeouts":null,"wait_for_default_service_account":false},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}]}}},{"address":"module.k8s.kubernetes_namespace.cve_processor_job_ns","module_address":"module.k8s","mode":"managed","type":"kubernetes_namespace","name":"cve_processor_job_ns","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"cve-processor-job-ns"}],"timeouts":null,"wait_for_default_service_account":false},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}]}}},{"address":"module.k8s.null_resource.kubeconfig","module_address":"module.k8s","mode":"managed","type":"null_resource","name":"kubeconfig","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_eip.elastic_ip[0]","module_address":"module.network","mode":"managed","type":"aws_eip","name":"elastic_ip","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"cve-vpc-eip-1"},"tags_all":{"Name":"cve-vpc-eip-1"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_eip.elastic_ip[1]","module_address":"module.network","mode":"managed","type":"aws_eip","name":"elastic_ip","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"cve-vpc-eip-2"},"tags_all":{"Name":"cve-vpc-eip-2"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_eip.elastic_ip[2]","module_address":"module.network","mode":"managed","type":"aws_eip","name":"elastic_ip","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"cve-vpc-eip-3"},"tags_all":{"Name":"cve-vpc-eip-3"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_internet_gateway.gw","module_address":"module.network","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"cve-vpc-internet-gw"},"tags_all":{"Name":"cve-vpc-internet-gw"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_nat_gateway.nat_gw[0]","module_address":"module.network","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"cve-vpc-nat-gw-0"},"tags_all":{"Name":"cve-vpc-nat-gw-0"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"secondary_private_ip_address_count":true,"secondary_private_ip_addresses":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_nat_gateway.nat_gw[1]","module_address":"module.network","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"cve-vpc-nat-gw-1"},"tags_all":{"Name":"cve-vpc-nat-gw-1"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"secondary_private_ip_address_count":true,"secondary_private_ip_addresses":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_nat_gateway.nat_gw[2]","module_address":"module.network","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"cve-vpc-nat-gw-2"},"tags_all":{"Name":"cve-vpc-nat-gw-2"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"secondary_private_ip_address_count":true,"secondary_private_ip_addresses":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_route_table.private_route_table[0]","module_address":"module.network","mode":"managed","type":"aws_route_table","name":"private_route_table","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"cve-vpc-private-route-table-0"},"tags_all":{"Name":"cve-vpc-private-route-table-0"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_route_table.private_route_table[1]","module_address":"module.network","mode":"managed","type":"aws_route_table","name":"private_route_table","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"cve-vpc-private-route-table-1"},"tags_all":{"Name":"cve-vpc-private-route-table-1"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_route_table.private_route_table[2]","module_address":"module.network","mode":"managed","type":"aws_route_table","name":"private_route_table","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"cve-vpc-private-route-table-2"},"tags_all":{"Name":"cve-vpc-private-route-table-2"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_route_table.public_route_table","module_address":"module.network","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"public_route_table"},"tags_all":{"Name":"public_route_table"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_route_table_association.private_subnets_rta[0]","module_address":"module.network","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_route_table_association.private_subnets_rta[1]","module_address":"module.network","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_route_table_association.private_subnets_rta[2]","module_address":"module.network","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_route_table_association.public_subnets_route[0]","module_address":"module.network","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_route_table_association.public_subnets_route[1]","module_address":"module.network","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_route_table_association.public_subnets_route[2]","module_address":"module.network","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.network.aws_security_group.eks_sg","module_address":"module.network","mode":"managed","type":"aws_security_group","name":"eks_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"eks_sg","revoke_rules_on_delete":false,"tags":{"Name":"eks_sg"},"tags_all":{"Name":"eks_sg"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"module.network.aws_subnet.private_subnets[0]","module_address":"module.network","mode":"managed","type":"aws_subnet","name":"private_subnets","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.2.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_subnet.private_subnets[1]","module_address":"module.network","mode":"managed","type":"aws_subnet","name":"private_subnets","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.2.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_subnet.private_subnets[2]","module_address":"module.network","mode":"managed","type":"aws_subnet","name":"private_subnets","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.2.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-private-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_subnet.public_subnets[0]","module_address":"module.network","mode":"managed","type":"aws_subnet","name":"public_subnets","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.2.4.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-0","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_subnet.public_subnets[1]","module_address":"module.network","mode":"managed","type":"aws_subnet","name":"public_subnets","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.2.5.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-1","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_subnet.public_subnets[2]","module_address":"module.network","mode":"managed","type":"aws_subnet","name":"public_subnets","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.2.6.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"KubernetesCluster":"cve-vpc","Name":"cve-vpc-public-subnet-2","kubernetes.io/cluster/cve-vpc":"shared","kubernetes.io/role/elb":"1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.network.aws_vpc.eks_vpc","module_address":"module.network","mode":"managed","type":"aws_vpc","name":"eks_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.2.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"cve-vpc"},"tags_all":{"Name":"cve-vpc"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.node_group.aws_eks_node_group.node_group[0]","module_address":"module.node_group","mode":"managed","type":"aws_eks_node_group","name":"node_group","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami_type":"AL2_x86_64","capacity_type":"ON_DEMAND","cluster_name":"cve-eks","disk_size":20,"force_update_version":false,"instance_types":["c3.large"],"labels":{"name":"cve-eks-node-group","role":"cve-eks-node-group-role"},"launch_template":[],"node_group_name":"cve-eks-node-group","remote_access":[],"scaling_config":[{"desired_size":3,"max_size":3,"min_size":3}],"tags":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"tags_all":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"taint":[],"timeouts":null,"update_config":[{"max_unavailable":3,"max_unavailable_percentage":null}],"version":"1.29"},"after_unknown":{"arn":true,"id":true,"instance_types":[false],"labels":{},"launch_template":[],"node_group_name_prefix":true,"node_role_arn":true,"release_version":true,"remote_access":[],"resources":true,"scaling_config":[{}],"status":true,"subnet_ids":true,"tags":{},"tags_all":{},"taint":[],"update_config":[{}]},"before_sensitive":false,"after_sensitive":{"instance_types":[false],"labels":{},"launch_template":[],"remote_access":[],"resources":[],"scaling_config":[{}],"subnet_ids":[],"tags":{},"tags_all":{},"taint":[],"update_config":[{}]}}},{"address":"module.node_group.aws_eks_node_group.node_group[1]","module_address":"module.node_group","mode":"managed","type":"aws_eks_node_group","name":"node_group","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami_type":"AL2_x86_64","capacity_type":"ON_DEMAND","cluster_name":"cve-eks","disk_size":20,"force_update_version":false,"instance_types":["c3.large"],"labels":{"name":"cve-eks-node-group","role":"cve-eks-node-group-role"},"launch_template":[],"node_group_name":"cve-eks-node-group","remote_access":[],"scaling_config":[{"desired_size":3,"max_size":3,"min_size":3}],"tags":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"tags_all":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"taint":[],"timeouts":null,"update_config":[{"max_unavailable":3,"max_unavailable_percentage":null}],"version":"1.29"},"after_unknown":{"arn":true,"id":true,"instance_types":[false],"labels":{},"launch_template":[],"node_group_name_prefix":true,"node_role_arn":true,"release_version":true,"remote_access":[],"resources":true,"scaling_config":[{}],"status":true,"subnet_ids":true,"tags":{},"tags_all":{},"taint":[],"update_config":[{}]},"before_sensitive":false,"after_sensitive":{"instance_types":[false],"labels":{},"launch_template":[],"remote_access":[],"resources":[],"scaling_config":[{}],"subnet_ids":[],"tags":{},"tags_all":{},"taint":[],"update_config":[{}]}}},{"address":"module.node_group.aws_eks_node_group.node_group[2]","module_address":"module.node_group","mode":"managed","type":"aws_eks_node_group","name":"node_group","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami_type":"AL2_x86_64","capacity_type":"ON_DEMAND","cluster_name":"cve-eks","disk_size":20,"force_update_version":false,"instance_types":["c3.large"],"labels":{"name":"cve-eks-node-group","role":"cve-eks-node-group-role"},"launch_template":[],"node_group_name":"cve-eks-node-group","remote_access":[],"scaling_config":[{"desired_size":3,"max_size":3,"min_size":3}],"tags":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"tags_all":{"k8s.io/cluster-autoscaler/cve-eks":"owned","k8s.io/cluster-autoscaler/enabled":"true"},"taint":[],"timeouts":null,"update_config":[{"max_unavailable":3,"max_unavailable_percentage":null}],"version":"1.29"},"after_unknown":{"arn":true,"id":true,"instance_types":[false],"labels":{},"launch_template":[],"node_group_name_prefix":true,"node_role_arn":true,"release_version":true,"remote_access":[],"resources":true,"scaling_config":[{}],"status":true,"subnet_ids":true,"tags":{},"tags_all":{},"taint":[],"update_config":[{}]},"before_sensitive":false,"after_sensitive":{"instance_types":[false],"labels":{},"launch_template":[],"remote_access":[],"resources":[],"scaling_config":[{}],"subnet_ids":[],"tags":{},"tags_all":{},"taint":[],"update_config":[{}]}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.5.7","values":{"root_module":{"child_modules":[{"resources":[{"address":"module.db.random_id.postgres","mode":"managed","type":"random_id","name":"postgres","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"b64_std":"ImY2uH6N4Bc=","b64_url":"ImY2uH6N4Bc","byte_length":8,"dec":"2478728810939146263","hex":"226636b87e8de017","id":"ImY2uH6N4Bc","keepers":null,"prefix":null},"sensitive_values":{}}],"address":"module.db"},{"resources":[{"address":"module.iam.data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"819195744","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:TagSession\",\n        \"sts:AssumeRole\"\n      ],\n      \"Principal\": {\n        \"Service\": \"pods.eks.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole","sts:TagSession"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["pods.eks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.iam.data.aws_iam_policy_document.eks_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"eks_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"289271957","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"eks.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}},{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""},{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["eks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]},{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.iam.data.aws_iam_policy_document.node_group_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"node_group_assume_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"289271957","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"eks.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}},{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""},{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["eks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]},{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}}],"address":"module.iam"},{"resources":[{"address":"module.k8s.data.aws_eks_cluster_auth.cluster_auth","mode":"data","type":"aws_eks_cluster_auth","name":"cluster_auth","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cve-eks","name":"cve-eks","token":"k8s-aws-v1.aHR0cHM6Ly9zdHMudXMtZWFzdC0xLmFtYXpvbmF3cy5jb20vP0FjdGlvbj1HZXRDYWxsZXJJZGVudGl0eSZWZXJzaW9uPTIwMTEtMDYtMTUmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBWFlLSlY1QVZTVEFJWTZaSiUyRjIwMjQwNjI3JTJGdXMtZWFzdC0xJTJGc3RzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA2MjdUMTYwNTUwWiZYLUFtei1FeHBpcmVzPTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1rOHMtYXdzLWlkJlgtQW16LVNpZ25hdHVyZT03MTZhNjU3MmMzOTdjMTAzMjIwYWNiOWFiNTU5OGQ2MDNmYTExYWMyYzNjYTZiNDJjZmM5NzY1MDY5NjQ1Y2Rm"},"sensitive_values":{"token":true}}],"address":"module.k8s"},{"resources":[{"address":"module.kms.data.aws_kms_key.ebs_kms_key_arn","mode":"data","type":"aws_kms_key","name":"ebs_kms_key_arn","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a","aws_account_id":"533267343403","cloud_hsm_cluster_id":"","creation_date":"2024-06-16T17:21:57Z","custom_key_store_id":"","customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_date":null,"description":"KMS key for EKS cluster secrets encryption","enabled":true,"expiration_model":"","grant_tokens":null,"id":"a1ee6798-157e-47c0-aec3-53566eb9cc7a","key_id":"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a","key_manager":"CUSTOMER","key_spec":"SYMMETRIC_DEFAULT","key_state":"Enabled","key_usage":"ENCRYPT_DECRYPT","multi_region":false,"multi_region_configuration":[],"origin":"AWS_KMS","pending_deletion_window_in_days":0,"valid_to":null,"xks_key_configuration":[]},"sensitive_values":{"multi_region_configuration":[],"xks_key_configuration":[]}},{"address":"module.kms.data.aws_kms_key.eks_secrets","mode":"data","type":"aws_kms_key","name":"eks_secrets","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:kms:us-east-1:533267343403:key/b0ca221d-7cf3-4cde-8a49-145a70de913b","aws_account_id":"533267343403","cloud_hsm_cluster_id":"","creation_date":"2024-06-16T17:26:01Z","custom_key_store_id":"","customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_date":null,"description":"KMS key for EKS cluster secrets encryption","enabled":true,"expiration_model":"","grant_tokens":null,"id":"b0ca221d-7cf3-4cde-8a49-145a70de913b","key_id":"arn:aws:kms:us-east-1:533267343403:key/b0ca221d-7cf3-4cde-8a49-145a70de913b","key_manager":"CUSTOMER","key_spec":"SYMMETRIC_DEFAULT","key_state":"Enabled","key_usage":"ENCRYPT_DECRYPT","multi_region":false,"multi_region_configuration":[],"origin":"AWS_KMS","pending_deletion_window_in_days":0,"valid_to":null,"xks_key_configuration":[]},"sensitive_values":{"multi_region_configuration":[],"xks_key_configuration":[]}}],"address":"module.kms"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"region":{"references":["var.region"]}}},"module.db:helm":{"name":"helm","full_name":"registry.terraform.io/hashicorp/helm","module_address":"module.db"},"module.db:kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","module_address":"module.db"},"module.db:random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","module_address":"module.db"},"module.eks:null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null","module_address":"module.eks"},"module.eks:tls":{"name":"tls","full_name":"registry.terraform.io/hashicorp/tls","module_address":"module.eks"},"module.k8s:kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","module_address":"module.k8s","expressions":{"cluster_ca_certificate":{"references":["var.certificate_authority_data"]},"exec":[{"api_version":{"constant_value":"client.authentication.k8s.io/v1beta1"},"args":{"references":["var.eks_name","var.eks_cluster_role"]},"command":{"constant_value":"aws"}}],"host":{"references":["var.eks_endpoint"]},"token":{"references":["data.aws_eks_cluster_auth.cluster_auth.token","data.aws_eks_cluster_auth.cluster_auth"]}}},"module.k8s:null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null","module_address":"module.k8s"}},"root_module":{"module_calls":{"db":{"source":"./modules/db","expressions":{"cve_consumer_app_ns":{"references":["module.k8s.cve_consumer_app_ns","module.k8s"]},"kubeconfig":{"references":["module.eks.kubeconfig","module.eks"]}},"module":{"resources":[{"address":"helm_release.postgresql","mode":"managed","type":"helm_release","name":"postgresql","provider_config_key":"module.db:helm","expressions":{"chart":{"references":["var.postgresql"]},"name":{"references":["var.postgresql"]},"namespace":{"references":["var.cve_consumer_app_ns"]},"repository":{"references":["var.bitnami_pg_repo"]},"values":{"references":["kubernetes_secret.postgresql.metadata[0].name","kubernetes_secret.postgresql.metadata[0]","kubernetes_secret.postgresql.metadata","kubernetes_secret.postgresql"]},"version":{"references":["var.postgresql_version"]}},"schema_version":1,"depends_on":["kubernetes_secret.postgresql","var.kubeconfig"]},{"address":"kubernetes_secret.postgresql","mode":"managed","type":"kubernetes_secret","name":"postgresql","provider_config_key":"module.db:kubernetes","expressions":{"data":{"references":["random_id.postgres.hex","random_id.postgres"]},"metadata":[{"name":{"references":["var.postgresql"]},"namespace":{"references":["var.cve_consumer_app_ns"]}}]},"schema_version":0,"depends_on":["var.kubeconfig"]},{"address":"random_id.postgres","mode":"managed","type":"random_id","name":"postgres","provider_config_key":"module.db:random","expressions":{"byte_length":{"constant_value":8}},"schema_version":0}],"variables":{"bitnami_pg_repo":{"default":"https://charts.bitnami.com/bitnami"},"cve_consumer_app_ns":{},"ebs_sc":{"default":"ebs-sc"},"kubeconfig":{},"postgresql":{"default":"postgresql"},"postgresql_cm":{"default":"postgres-config"},"postgresql_version":{"default":"15.5.9"}}}},"eks":{"source":"./modules/eks","expressions":{"ebs_csi_role":{"references":["module.iam.ebs_csi_role","module.iam"]},"eks_cluster_role":{"references":["module.iam.eks_cluster_role","module.iam"]},"eks_pod_identity_role":{"references":["module.iam.eks_pod_identity_role","module.iam"]},"eks_secrets_arn":{"references":["module.kms.eks_secrets_arn","module.kms"]},"eks_sg":{"references":["module.network.eks_sg","module.network"]},"eks_vpc":{"references":["module.network.eks_vpc","module.network"]},"node_group":{"references":["module.node_group.node_group","module.node_group"]},"node_group_role":{"references":["module.iam.node_group_iam_role","module.iam"]},"private_subnets":{"references":["module.network.private_subnets","module.network"]},"public_subnets":{"references":["module.network.public_subnets","module.network"]},"vpc_cni_role":{"references":["module.iam.vpc_cni_role","module.iam"]}},"module":{"outputs":{"cluster":{"expression":{"references":["aws_eks_cluster.eks"]}},"ebs_csi":{"expression":{"references":["aws_eks_addon.ebs_csi"]}},"eks_cluster_name":{"expression":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]}},"kubeconfig":{"expression":{"references":["null_resource.update_kubeconfig"]}},"oidc_cert":{"expression":{"references":["data.tls_certificate.oidc_cert.certificates[0].sha1_fingerprint","data.tls_certificate.oidc_cert.certificates[0]","data.tls_certificate.oidc_cert.certificates","data.tls_certificate.oidc_cert"]}},"oidc_provider_url":{"expression":{"references":["data.tls_certificate.oidc_cert.url","data.tls_certificate.oidc_cert"]}}},"resources":[{"address":"aws_cloudwatch_log_group.cluster_logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"cluster_logging","provider_config_key":"aws","expressions":{"name":{"references":["var.eks_name"]},"retention_in_days":{"references":["var.retention_in_days"]}},"schema_version":0},{"address":"aws_eks_addon.core_dns","mode":"managed","type":"aws_eks_addon","name":"core_dns","provider_config_key":"aws","expressions":{"addon_name":{"references":["var.core_dns_addon_name"]},"addon_version":{"references":["var.core_dns_addon_version"]},"cluster_name":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]},"configuration_values":{},"resolve_conflicts_on_update":{"references":["var.resolve_conflicts_on_update"]}},"schema_version":0,"depends_on":["aws_eks_cluster.eks","var.node_group"]},{"address":"aws_eks_addon.ebs_csi","mode":"managed","type":"aws_eks_addon","name":"ebs_csi","provider_config_key":"aws","expressions":{"addon_name":{"references":["var.ebs_csi_addon_name"]},"addon_version":{"references":["var.ebs_csi_addon_version"]},"cluster_name":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]},"configuration_values":{"constant_value":null},"preserve":{"constant_value":false},"resolve_conflicts_on_update":{"references":["var.resolve_conflicts_on_update"]},"service_account_role_arn":{"references":["var.ebs_csi_role.arn","var.ebs_csi_role"]}},"schema_version":0,"depends_on":["aws_eks_cluster.eks"]},{"address":"aws_eks_addon.kube-proxy","mode":"managed","type":"aws_eks_addon","name":"kube-proxy","provider_config_key":"aws","expressions":{"addon_name":{"references":["var.kube-proxy_addon_name"]},"addon_version":{"references":["var.kube-proxy_addon_version"]},"cluster_name":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]},"resolve_conflicts_on_update":{"references":["var.resolve_conflicts_on_update"]}},"schema_version":0,"depends_on":["aws_eks_cluster.eks"]},{"address":"aws_eks_addon.pod_identity","mode":"managed","type":"aws_eks_addon","name":"pod_identity","provider_config_key":"aws","expressions":{"addon_name":{"references":["var.pod_identity_addon_name"]},"addon_version":{"references":["var.pod_identity_addon_version"]},"cluster_name":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]},"configuration_values":{},"resolve_conflicts_on_update":{"references":["var.resolve_conflicts_on_update"]},"service_account_role_arn":{"references":["var.eks_pod_identity_role.arn","var.eks_pod_identity_role"]}},"schema_version":0,"depends_on":["aws_eks_cluster.eks"]},{"address":"aws_eks_addon.vpc-cni","mode":"managed","type":"aws_eks_addon","name":"vpc-cni","provider_config_key":"aws","expressions":{"addon_name":{"references":["var.vpc_cni_addon_name"]},"addon_version":{"references":["var.vpc_cni_addon_version"]},"cluster_name":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]},"configuration_values":{"constant_value":null},"resolve_conflicts_on_update":{"references":["var.resolve_conflicts_on_update"]},"service_account_role_arn":{"references":["var.vpc_cni_role.arn","var.vpc_cni_role"]}},"schema_version":0,"depends_on":["aws_eks_cluster.eks"]},{"address":"aws_eks_cluster.eks","mode":"managed","type":"aws_eks_cluster","name":"eks","provider_config_key":"aws","expressions":{"access_config":[{"authentication_mode":{"references":["var.eks_authentication_mode"]},"bootstrap_cluster_creator_admin_permissions":{"constant_value":true}}],"enabled_cluster_log_types":{"references":["var.enabled_cluster_log_types"]},"encryption_config":[{"provider":[{"key_arn":{"references":["var.eks_secrets_arn"]}}],"resources":{"constant_value":["secrets"]}}],"kubernetes_network_config":[{"ip_family":{"references":["var.kubernetes_network_config"]}}],"name":{"references":["var.eks_name"]},"role_arn":{"references":["var.eks_cluster_role"]},"version":{"references":["var.k8s_version"]},"vpc_config":[{"endpoint_private_access":{"references":["var.endpoint_private_access"]},"endpoint_public_access":{"references":["var.endpoint_public_access"]},"security_group_ids":{"references":["var.eks_sg.id","var.eks_sg"]},"subnet_ids":{"references":["var.public_subnets[0].id","var.public_subnets[0]","var.public_subnets","var.public_subnets[1].id","var.public_subnets[1]","var.public_subnets","var.public_subnets[2].id","var.public_subnets[2]","var.public_subnets","var.private_subnets[0].id","var.private_subnets[0]","var.private_subnets","var.private_subnets[1].id","var.private_subnets[1]","var.private_subnets","var.private_subnets[2].id","var.private_subnets[2]","var.private_subnets"]}}]},"schema_version":0,"depends_on":["var.public_subnets","var.private_subnets","aws_cloudwatch_log_group.cluster_logging"]},{"address":"aws_eks_pod_identity_association.pod_identity_association","mode":"managed","type":"aws_eks_pod_identity_association","name":"pod_identity_association","provider_config_key":"aws","expressions":{"cluster_name":{"references":["aws_eks_cluster.eks.name","aws_eks_cluster.eks"]},"namespace":{"constant_value":"kube-system"},"role_arn":{"references":["var.ebs_csi_role.arn","var.ebs_csi_role"]},"service_account":{"constant_value":"ebs-csi-controller-sa"}},"schema_version":0,"depends_on":["aws_eks_cluster.eks","aws_eks_addon.core_dns","aws_eks_addon.ebs_csi","aws_eks_addon.kube-proxy","aws_eks_addon.pod_identity"]},{"address":"null_resource.update_kubeconfig","mode":"managed","type":"null_resource","name":"update_kubeconfig","provider_config_key":"module.eks:null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["var.region","aws_eks_cluster.eks.name","aws_eks_cluster.eks"]}}}],"schema_version":0,"depends_on":["aws_eks_cluster.eks"]},{"address":"data.tls_certificate.oidc_cert","mode":"data","type":"tls_certificate","name":"oidc_cert","provider_config_key":"module.eks:tls","expressions":{"url":{"references":["aws_eks_cluster.eks.identity[0].oidc[0].issuer","aws_eks_cluster.eks.identity[0].oidc[0]","aws_eks_cluster.eks.identity[0].oidc","aws_eks_cluster.eks.identity[0]","aws_eks_cluster.eks.identity","aws_eks_cluster.eks"]}},"schema_version":0,"depends_on":["aws_eks_cluster.eks"]}],"variables":{"core_dns_addon_name":{"default":"coredns"},"core_dns_addon_version":{"default":"v1.11.1-eksbuild.9"},"ebs_csi_addon_name":{"default":"aws-ebs-csi-driver"},"ebs_csi_addon_version":{"default":"v1.31.0-eksbuild.1"},"ebs_csi_role":{},"eks_authentication_mode":{"default":"API_AND_CONFIG_MAP"},"eks_cluster_role":{},"eks_name":{"default":"cve-eks"},"eks_pod_identity_role":{},"eks_secrets_arn":{},"eks_sg":{},"eks_vpc":{},"enabled_cluster_log_types":{"default":["api","audit","authenticator","controllerManager","scheduler"]},"endpoint_private_access":{"default":true},"endpoint_public_access":{"default":true},"k8s_version":{"default":"1.29"},"kube-proxy_addon_name":{"default":"kube-proxy"},"kube-proxy_addon_version":{"default":"v1.29.3-eksbuild.5"},"kubernetes_network_config":{"default":"ipv4"},"node_group":{},"node_group_role":{},"pod_identity_addon_name":{"default":"eks-pod-identity-agent"},"pod_identity_addon_version":{"default":"v1.3.0-eksbuild.1"},"private_subnets":{},"public_subnets":{},"region":{"default":"us-east-1"},"resolve_conflicts_on_update":{"default":"PRESERVE"},"retention_in_days":{"default":1},"vpc_cni_addon_name":{"default":"vpc-cni"},"vpc_cni_addon_version":{"default":"v1.18.2-eksbuild.1"},"vpc_cni_role":{}}}},"iam":{"source":"./modules/iam","expressions":{"ebs_kms_key_arn":{"references":["module.kms.ebs_kms_key_arn","module.kms"]},"oidc_cert":{"references":["module.eks.oidc_cert","module.eks"]},"oidc_provider_url":{"references":["module.eks.oidc_provider_url","module.eks"]}},"module":{"outputs":{"ebs_csi_role":{"expression":{"references":["aws_iam_role.ebs_csi_role"]}},"eks_cluster_role":{"expression":{"references":["aws_iam_role.eks_cluster_role.arn","aws_iam_role.eks_cluster_role"]}},"eks_pod_identity_role":{"expression":{"references":["aws_iam_role.eks_pod_identity_role"]}},"eks_secrets":{"expression":{"references":["aws_iam_role.eks_cluster_role.arn","aws_iam_role.eks_cluster_role"]}},"node_group_AmazonEC2ContainerRegistryReadOnly":{"expression":{"references":["aws_iam_role_policy_attachment.node_group_AmazonEC2ContainerRegistryReadOnly"]}},"node_group_AmazonEKSWorkerNodePolicy":{"expression":{"references":["aws_iam_role_policy_attachment.node_group_AmazonEKSWorkerNodePolicy"]}},"node_group_AmazonEKS_CNI_Policy":{"expression":{"references":["aws_iam_role_policy_attachment.node_group_AmazonEKS_CNI_Policy"]}},"node_group_iam_role":{"expression":{"references":["aws_iam_role.node_group_role"]}},"oidc_provider":{"expression":{"references":["aws_iam_openid_connect_provider.oidc_provider"]}},"vpc_cni_role":{"expression":{"references":["aws_iam_role.vpc_cni_role"]}}},"resources":[{"address":"aws_iam_openid_connect_provider.oidc_provider","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","provider_config_key":"aws","expressions":{"client_id_list":{"constant_value":["sts.amazonaws.com"]},"thumbprint_list":{"references":["var.oidc_cert"]},"url":{"references":["var.oidc_provider_url"]}},"schema_version":0},{"address":"aws_iam_policy.ebs_csi_custom_policy","mode":"managed","type":"aws_iam_policy","name":"ebs_csi_custom_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.ebs_csi_custom_policy"]},"policy":{}},"schema_version":0},{"address":"aws_iam_policy.ebs_csi_kms_policy","mode":"managed","type":"aws_iam_policy","name":"ebs_csi_kms_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.ebs_csi_kms_policy"]},"policy":{"references":["var.ebs_kms_key_arn","var.ebs_kms_key_arn"]}},"schema_version":0},{"address":"aws_iam_policy.pass_role_policy","mode":"managed","type":"aws_iam_policy","name":"pass_role_policy","provider_config_key":"aws","expressions":{"name":{"constant_value":"pass_role_policy"},"policy":{}},"schema_version":0},{"address":"aws_iam_role.ebs-pod-identity-role","mode":"managed","type":"aws_iam_role","name":"ebs-pod-identity-role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role.json","data.aws_iam_policy_document.assume_role"]},"name":{"constant_value":"eks-pod-identity"}},"schema_version":0},{"address":"aws_iam_role.ebs_csi_role","mode":"managed","type":"aws_iam_role","name":"ebs_csi_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.ebs_csi_assume_role_policy.json","data.aws_iam_policy_document.ebs_csi_assume_role_policy"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.ebs_csi_role"]},"tags":{"references":["var.ebs_csi_role"]}},"schema_version":0,"depends_on":["data.aws_iam_policy_document.ebs_csi_assume_role_policy"]},{"address":"aws_iam_role.eks_cluster_role","mode":"managed","type":"aws_iam_role","name":"eks_cluster_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.eks_assume_role_policy.json","data.aws_iam_policy_document.eks_assume_role_policy"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.eks_cluster_role"]},"tags":{"references":["var.eks_cluster_role"]}},"schema_version":0,"depends_on":["data.aws_iam_policy_document.eks_assume_role_policy"]},{"address":"aws_iam_role.eks_pod_identity_role","mode":"managed","type":"aws_iam_role","name":"eks_pod_identity_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.pod_identity_assume_role_policy.json","data.aws_iam_policy_document.pod_identity_assume_role_policy"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.eks_pod_identity_role"]},"tags":{"references":["var.eks_pod_identity_role"]}},"schema_version":0,"depends_on":["data.aws_iam_policy_document.pod_identity_assume_role_policy"]},{"address":"aws_iam_role.node_group_role","mode":"managed","type":"aws_iam_role","name":"node_group_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.node_group_assume_role_policy.json","data.aws_iam_policy_document.node_group_assume_role_policy"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.node_group_role"]},"tags":{"references":["var.node_group_role"]}},"schema_version":0,"depends_on":["data.aws_iam_policy_document.node_group_assume_role_policy"]},{"address":"aws_iam_role.oidc_iam_role","mode":"managed","type":"aws_iam_role","name":"oidc_iam_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.oidc_assume_role_policy.json","data.aws_iam_policy_document.oidc_assume_role_policy"]},"name":{"constant_value":"oidc_iam_role"}},"schema_version":0,"depends_on":["aws_iam_openid_connect_provider.oidc_provider"]},{"address":"aws_iam_role.vpc_cni_role","mode":"managed","type":"aws_iam_role","name":"vpc_cni_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.vpc_cni_assume_role_policy.json","data.aws_iam_policy_document.vpc_cni_assume_role_policy"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.vpc_cni_role"]},"tags":{"references":["var.vpc_cni_role"]}},"schema_version":0,"depends_on":["aws_iam_openid_connect_provider.oidc_provider","data.aws_iam_policy_document.vpc_cni_assume_role_policy"]},{"address":"aws_iam_role_policy_attachment.ebs-pod-identity-custom-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs-pod-identity-custom-policy","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ebs_csi_custom_policy.arn","aws_iam_policy.ebs_csi_custom_policy"]},"role":{"references":["aws_iam_role.ebs-pod-identity-role.name","aws_iam_role.ebs-pod-identity-role"]}},"schema_version":0,"depends_on":["aws_iam_role.ebs-pod-identity-role","aws_iam_policy.ebs_csi_custom_policy"]},{"address":"aws_iam_role_policy_attachment.ebs-pod-identity-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs-pod-identity-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy"},"role":{"references":["aws_iam_role.ebs-pod-identity-role.name","aws_iam_role.ebs-pod-identity-role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ebs_csi_AmazonEBSCSIDriverPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_AmazonEBSCSIDriverPolicy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy"},"role":{"references":["aws_iam_role.ebs_csi_role.name","aws_iam_role.ebs_csi_role"]}},"schema_version":0,"depends_on":["aws_iam_role.ebs_csi_role"]},{"address":"aws_iam_role_policy_attachment.ebs_csi_custom_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_custom_policy","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ebs_csi_custom_policy.arn","aws_iam_policy.ebs_csi_custom_policy"]},"role":{"references":["aws_iam_role.ebs_csi_role.name","aws_iam_role.ebs_csi_role"]}},"schema_version":0,"depends_on":["aws_iam_role.ebs_csi_role"]},{"address":"aws_iam_role_policy_attachment.ebs_csi_kms_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi_kms_policy","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ebs_csi_kms_policy.arn","aws_iam_policy.ebs_csi_kms_policy"]},"role":{"references":["aws_iam_role.ebs_csi_role.name","aws_iam_role.ebs_csi_role"]}},"schema_version":0,"depends_on":["aws_iam_role.ebs_csi_role"]},{"address":"aws_iam_role_policy_attachment.eks-AmazonEKSServicePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks-AmazonEKSServicePolicy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSServicePolicy"},"role":{"references":["aws_iam_role.eks_cluster_role.name","aws_iam_role.eks_cluster_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.eks_AmazonEC2ContainerRegistryReadOnly","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEC2ContainerRegistryReadOnly","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"},"role":{"references":["aws_iam_role.eks_cluster_role.name","aws_iam_role.eks_cluster_role"]}},"schema_version":0,"depends_on":["aws_iam_role.eks_cluster_role"]},{"address":"aws_iam_role_policy_attachment.eks_AmazonEKSClusterPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEKSClusterPolicy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"},"role":{"references":["aws_iam_role.eks_cluster_role.name","aws_iam_role.eks_cluster_role"]}},"schema_version":0,"depends_on":["aws_iam_role.eks_cluster_role"]},{"address":"aws_iam_role_policy_attachment.eks_AmazonEKSWorkerNodePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"eks_AmazonEKSWorkerNodePolicy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"},"role":{"references":["aws_iam_role.eks_cluster_role.name","aws_iam_role.eks_cluster_role"]}},"schema_version":0,"depends_on":["aws_iam_role.eks_cluster_role"]},{"address":"aws_iam_role_policy_attachment.node_group_AmazonEBSCSIDriverPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEBSCSIDriverPolicy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy"},"role":{"references":["aws_iam_role.node_group_role.name","aws_iam_role.node_group_role"]}},"schema_version":0,"depends_on":["aws_iam_role.node_group_role"]},{"address":"aws_iam_role_policy_attachment.node_group_AmazonEC2ContainerRegistryReadOnly","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEC2ContainerRegistryReadOnly","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"},"role":{"references":["aws_iam_role.node_group_role.name","aws_iam_role.node_group_role"]}},"schema_version":0,"depends_on":["aws_iam_role.node_group_role"]},{"address":"aws_iam_role_policy_attachment.node_group_AmazonEKSWorkerNodePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEKSWorkerNodePolicy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"},"role":{"references":["aws_iam_role.node_group_role.name","aws_iam_role.node_group_role"]}},"schema_version":0,"depends_on":["aws_iam_role.node_group_role"]},{"address":"aws_iam_role_policy_attachment.node_group_AmazonEKS_CNI_Policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_AmazonEKS_CNI_Policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"},"role":{"references":["aws_iam_role.node_group_role.name","aws_iam_role.node_group_role"]}},"schema_version":0,"depends_on":["aws_iam_role.node_group_role"]},{"address":"aws_iam_role_policy_attachment.node_group_kms_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_group_kms_policy","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ebs_csi_kms_policy.arn","aws_iam_policy.ebs_csi_kms_policy"]},"role":{"references":["aws_iam_role.node_group_role.name","aws_iam_role.node_group_role"]}},"schema_version":0,"depends_on":["aws_iam_role.node_group_role"]},{"address":"aws_iam_role_policy_attachment.pass_role_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"pass_role_policy","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.pass_role_policy.arn","aws_iam_policy.pass_role_policy"]},"role":{"references":["aws_iam_role.eks_pod_identity_role.name","aws_iam_role.eks_pod_identity_role"]}},"schema_version":0,"depends_on":["aws_iam_role.eks_pod_identity_role"]},{"address":"aws_iam_role_policy_attachment.vpc_cni_AmazonEKS_CNI_Policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc_cni_AmazonEKS_CNI_Policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"},"role":{"references":["aws_iam_role.vpc_cni_role.name","aws_iam_role.vpc_cni_role"]}},"schema_version":0,"depends_on":["aws_iam_role.vpc_cni_role"]},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole","sts:TagSession"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["pods.eks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.ebs_csi_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"ebs_csi_assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRoleWithWebIdentity"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["system:serviceaccount:kube-system:ebs-csi-controller-sa"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}},{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["sts.amazonaws.com"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}}],"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["aws_iam_openid_connect_provider.oidc_provider.arn","aws_iam_openid_connect_provider.oidc_provider"]},"type":{"constant_value":"Federated"}}]},{"actions":{"constant_value":["sts:AssumeRole","sts:TagSession"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["pods.eks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.eks_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"eks_assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["ec2.amazonaws.com"]},"type":{"constant_value":"Service"}}]},{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["eks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.node_group_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"node_group_assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["ec2.amazonaws.com"]},"type":{"constant_value":"Service"}}]},{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["eks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.oidc_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"oidc_assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRoleWithWebIdentity"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["system:serviceaccount:kube-system:aws-node"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}},{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["sts.amazonaws.com"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}}],"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["aws_iam_openid_connect_provider.oidc_provider.arn","aws_iam_openid_connect_provider.oidc_provider"]},"type":{"constant_value":"Federated"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.pod_identity_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"pod_identity_assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRoleWithWebIdentity"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["system:serviceaccount:kube-system:aws-node"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}},{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["sts.amazonaws.com"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}}],"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["aws_iam_openid_connect_provider.oidc_provider.arn","aws_iam_openid_connect_provider.oidc_provider"]},"type":{"constant_value":"Federated"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.vpc_cni_assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"vpc_cni_assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRoleWithWebIdentity"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["system:serviceaccount:kube-system:aws-node"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}},{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["sts.amazonaws.com"]},"variable":{"references":["aws_iam_openid_connect_provider.oidc_provider.url","aws_iam_openid_connect_provider.oidc_provider"]}}],"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["aws_iam_openid_connect_provider.oidc_provider.arn","aws_iam_openid_connect_provider.oidc_provider"]},"type":{"constant_value":"Federated"}}]}]},"schema_version":0}],"variables":{"core_dns_role":{"default":"core-dns-role"},"ebs_csi_custom_policy":{"default":"ebs-csi-custom-policy"},"ebs_csi_kms_policy":{"default":"ebs-csi-kms-policy"},"ebs_csi_role":{"default":"ebs-csi-role"},"ebs_kms_key_arn":{},"eks_cluster_role":{"default":"eks-cluster-role"},"eks_pod_identity_role":{"default":"eks-pod-identity-role"},"kube_proxy_role":{"default":"kube-proxy-role"},"node_group_role":{"default":"node-group-role"},"oidc_cert":{},"oidc_provider_url":{},"region":{"default":"us-east-1"},"vpc_cni_role":{"default":"vpc-cni-role"}}}},"k8s":{"source":"./modules/k8s","expressions":{"certificate_authority_data":{"references":["module.eks.cluster.certificate_authority[0].data","module.eks.cluster.certificate_authority[0]","module.eks.cluster.certificate_authority","module.eks.cluster","module.eks"]},"ebs_csi_role":{"references":["module.iam.ebs_csi_role","module.iam"]},"eks_cluster_role":{"references":["module.iam.eks_cluster_role","module.iam"]},"eks_endpoint":{"references":["module.eks.cluster.endpoint","module.eks.cluster","module.eks"]},"eks_name":{"references":["module.eks.cluster.name","module.eks.cluster","module.eks"]},"kubeconfig":{"references":["module.eks.kubeconfig","module.eks"]},"node_group":{"references":["module.node_group.node_group","module.node_group"]},"node_group_iam_role":{"references":["module.iam.node_group_iam_role","module.iam"]},"region":{"references":["var.region"]},"vpc_cni_role":{"references":["module.iam.vpc_cni_role","module.iam"]}},"module":{"outputs":{"cluster_auth_token":{"expression":{"references":["data.aws_eks_cluster_auth.cluster_auth.token","data.aws_eks_cluster_auth.cluster_auth"]}},"cve_consumer_app_ns":{"expression":{"references":["kubernetes_namespace.cve_consumer_app_ns.metadata[0].name","kubernetes_namespace.cve_consumer_app_ns.metadata[0]","kubernetes_namespace.cve_consumer_app_ns.metadata","kubernetes_namespace.cve_consumer_app_ns"]}},"cve_processor_job_ns":{"expression":{"references":["kubernetes_namespace.cve_processor_job_ns.metadata[0].name","kubernetes_namespace.cve_processor_job_ns.metadata[0]","kubernetes_namespace.cve_processor_job_ns.metadata","kubernetes_namespace.cve_processor_job_ns"]}}},"resources":[{"address":"kubernetes_config_map_v1_data.aws_auth_configmap","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth_configmap","provider_config_key":"module.k8s:kubernetes","expressions":{"data":{"references":["var.node_group_iam_role.arn","var.node_group_iam_role","var.vpc_cni_role.arn","var.vpc_cni_role","var.ebs_csi_role.arn","var.ebs_csi_role","var.eks_cluster_role"]},"force":{"constant_value":true},"metadata":[{"name":{"constant_value":"aws-auth"},"namespace":{"constant_value":"kube-system"}}]},"schema_version":0,"depends_on":["var.node_group","null_resource.kubeconfig"]},{"address":"kubernetes_namespace.cve_consumer_app_ns","mode":"managed","type":"kubernetes_namespace","name":"cve_consumer_app_ns","provider_config_key":"module.k8s:kubernetes","expressions":{"metadata":[{"name":{"constant_value":"cve-consumer-app-ns"}}]},"schema_version":0,"depends_on":["null_resource.kubeconfig"]},{"address":"kubernetes_namespace.cve_processor_job_ns","mode":"managed","type":"kubernetes_namespace","name":"cve_processor_job_ns","provider_config_key":"module.k8s:kubernetes","expressions":{"metadata":[{"name":{"constant_value":"cve-processor-job-ns"}}]},"schema_version":0,"depends_on":["null_resource.kubeconfig"]},{"address":"null_resource.kubeconfig","mode":"managed","type":"null_resource","name":"kubeconfig","provider_config_key":"module.k8s:null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["var.region","var.eks_name"]}}}],"schema_version":0,"depends_on":["var.eks_name"]},{"address":"data.aws_eks_cluster_auth.cluster_auth","mode":"data","type":"aws_eks_cluster_auth","name":"cluster_auth","provider_config_key":"aws","expressions":{"name":{"references":["var.eks_name"]}},"schema_version":0}],"variables":{"certificate_authority_data":{},"ebs_csi_role":{},"eks_cluster_role":{},"eks_endpoint":{},"eks_name":{},"kubeconfig":{},"node_group":{},"node_group_iam_role":{},"region":{},"vpc_cni_role":{}}}},"kms":{"source":"./modules/kms","module":{"outputs":{"ebs_kms_key_arn":{"expression":{"references":["data.aws_kms_key.ebs_kms_key_arn.arn","data.aws_kms_key.ebs_kms_key_arn"]}},"eks_secrets_arn":{"expression":{"references":["data.aws_kms_key.eks_secrets.arn","data.aws_kms_key.eks_secrets"]}}},"resources":[{"address":"data.aws_kms_key.ebs_kms_key_arn","mode":"data","type":"aws_kms_key","name":"ebs_kms_key_arn","provider_config_key":"aws","expressions":{"key_id":{"constant_value":"arn:aws:kms:us-east-1:533267343403:key/a1ee6798-157e-47c0-aec3-53566eb9cc7a"}},"schema_version":0},{"address":"data.aws_kms_key.eks_secrets","mode":"data","type":"aws_kms_key","name":"eks_secrets","provider_config_key":"aws","expressions":{"key_id":{"constant_value":"arn:aws:kms:us-east-1:533267343403:key/b0ca221d-7cf3-4cde-8a49-145a70de913b"}},"schema_version":0}]}},"network":{"source":"./modules/network","module":{"outputs":{"eks_sg":{"expression":{"references":["aws_security_group.eks_sg"]}},"eks_vpc":{"expression":{"references":["aws_vpc.eks_vpc"]}},"internet_gateway":{"expression":{"references":["aws_internet_gateway.gw"]}},"private_subnet_cidrs":{"expression":{"references":["aws_subnet.private_subnets"]}},"private_subnets":{"expression":{"references":["aws_subnet.private_subnets"]}},"public_subnet_cidrs":{"expression":{"references":["aws_subnet.public_subnets"]}},"public_subnets":{"expression":{"references":["aws_subnet.public_subnets"]}}},"resources":[{"address":"aws_eip.elastic_ip","mode":"managed","type":"aws_eip","name":"elastic_ip","provider_config_key":"aws","expressions":{"domain":{"constant_value":"vpc"},"tags":{"references":["var.vpc_name","count.index"]}},"schema_version":0,"count_expression":{"references":["var.eks_private_subnets"]}},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"aws","expressions":{"tags":{"references":["var.vpc_name"]},"vpc_id":{"references":["aws_vpc.eks_vpc.id","aws_vpc.eks_vpc"]}},"schema_version":0,"depends_on":["aws_vpc.eks_vpc"]},{"address":"aws_nat_gateway.nat_gw","mode":"managed","type":"aws_nat_gateway","name":"nat_gw","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.elastic_ip","count.index"]},"subnet_id":{"references":["aws_subnet.public_subnets","count.index"]},"tags":{"references":["var.vpc_name","count.index"]}},"schema_version":0,"count_expression":{"references":["var.eks_public_subnets"]},"depends_on":["aws_subnet.public_subnets","aws_internet_gateway.gw"]},{"address":"aws_route_table.private_route_table","mode":"managed","type":"aws_route_table","name":"private_route_table","provider_config_key":"aws","expressions":{"route":{"references":["aws_nat_gateway.nat_gw","count.index"]},"tags":{"references":["var.vpc_name","count.index"]},"vpc_id":{"references":["aws_vpc.eks_vpc.id","aws_vpc.eks_vpc"]}},"schema_version":0,"count_expression":{"references":["var.eks_private_subnets"]}},{"address":"aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.gw.id","aws_internet_gateway.gw"]},"tags":{"references":["var.route_table_name"]},"vpc_id":{"references":["aws_vpc.eks_vpc.id","aws_vpc.eks_vpc"]}},"schema_version":0,"depends_on":["aws_internet_gateway.gw"]},{"address":"aws_route_table_association.private_subnets_rta","mode":"managed","type":"aws_route_table_association","name":"private_subnets_rta","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.private_subnets","count.index"]}},"schema_version":0,"count_expression":{"references":["aws_subnet.private_subnets"]},"depends_on":["aws_subnet.private_subnets","aws_route_table.private_route_table"]},{"address":"aws_route_table_association.public_subnets_route","mode":"managed","type":"aws_route_table_association","name":"public_subnets_route","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public_route_table.id","aws_route_table.public_route_table"]},"subnet_id":{"references":["aws_subnet.public_subnets","count.index"]}},"schema_version":0,"count_expression":{"references":["var.eks_public_subnets"]},"depends_on":["aws_subnet.public_subnets","aws_route_table.public_route_table"]},{"address":"aws_security_group.eks_sg","mode":"managed","type":"aws_security_group","name":"eks_sg","provider_config_key":"aws","expressions":{"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":null,"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":true,"to_port":0}]},"name":{"references":["var.sg_name"]},"tags":{"references":["var.sg_name"]},"vpc_id":{"references":["aws_vpc.eks_vpc.id","aws_vpc.eks_vpc"]}},"schema_version":1,"depends_on":["aws_vpc.eks_vpc"]},{"address":"aws_subnet.private_subnets","mode":"managed","type":"aws_subnet","name":"private_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.aws_availability_zones","count.index","var.aws_availability_zones"]},"cidr_block":{"references":["var.eks_private_subnets","count.index"]},"map_public_ip_on_launch":{"constant_value":false},"tags":{"references":["var.vpc_name","count.index","var.vpc_name","var.vpc_name"]},"vpc_id":{"references":["aws_vpc.eks_vpc.id","aws_vpc.eks_vpc"]}},"schema_version":1,"count_expression":{"references":["var.eks_private_subnets"]},"depends_on":["aws_vpc.eks_vpc"]},{"address":"aws_subnet.public_subnets","mode":"managed","type":"aws_subnet","name":"public_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.aws_availability_zones","count.index","var.aws_availability_zones"]},"cidr_block":{"references":["var.eks_public_subnets","count.index"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["var.vpc_name","count.index","var.vpc_name","var.vpc_name"]},"vpc_id":{"references":["aws_vpc.eks_vpc.id","aws_vpc.eks_vpc"]}},"schema_version":1,"count_expression":{"references":["var.eks_public_subnets"]},"depends_on":["aws_vpc.eks_vpc"]},{"address":"aws_vpc.eks_vpc","mode":"managed","type":"aws_vpc","name":"eks_vpc","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.eks_vpc_cidr_block"]},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"references":["var.vpc_name"]}},"schema_version":1}],"variables":{"app_default_port":{"default":80},"app_port":{"default":8080},"aws_availability_zones":{"default":["us-east-1a","us-east-1b","us-east-1c"]},"eks_private_subnets":{"default":["10.2.1.0/24","10.2.2.0/24","10.2.3.0/24"]},"eks_public_subnets":{"default":["10.2.4.0/24","10.2.5.0/24","10.2.6.0/24"]},"eks_vpc_cidr_block":{"default":"10.2.0.0/16"},"https_default_port":{"default":443},"internet_gateway":{"default":"0.0.0.0/0"},"internet_gw":{"default":"internet_gateway"},"region":{"default":"us-east-1"},"route_table_name":{"default":"public_route_table"},"sg_name":{"default":"eks_sg"},"ssh_default_port":{"default":22},"tcp_protocol":{"default":"tcp"},"vpc_name":{"default":"cve-vpc"}}}},"node_group":{"source":"./modules/node_group","expressions":{"ebs_csi":{"references":["module.eks.ebs_csi","module.eks"]},"eks_cluster":{"references":["module.eks.cluster","module.eks"]},"eks_cluster_name":{"references":["module.eks.eks_cluster_name","module.eks"]},"node_group_AmazonEC2ContainerRegistryReadOnly":{"references":["module.iam.node_group_AmazonEC2ContainerRegistryReadOnly","module.iam"]},"node_group_AmazonEKSWorkerNodePolicy":{"references":["module.iam.node_group_AmazonEKSWorkerNodePolicy","module.iam"]},"node_group_AmazonEKS_CNI_Policy":{"references":["module.iam.node_group_AmazonEKS_CNI_Policy","module.iam"]},"node_group_iam_role":{"references":["module.iam.node_group_iam_role","module.iam"]},"oidc_provider":{"references":["module.iam.oidc_provider","module.iam"]},"private_subnets":{"references":["module.network.private_subnets","module.network"]},"public_subnets":{"references":["module.network.public_subnets","module.network"]}},"module":{"outputs":{"node_group":{"expression":{"references":["aws_eks_node_group.node_group"]}}},"resources":[{"address":"aws_eks_node_group.node_group","mode":"managed","type":"aws_eks_node_group","name":"node_group","provider_config_key":"aws","expressions":{"ami_type":{"references":["var.ami_type"]},"capacity_type":{"references":["var.capacity_type"]},"cluster_name":{"references":["var.eks_cluster_name"]},"disk_size":{"references":["var.disk_size"]},"force_update_version":{"references":["var.force_update_version"]},"instance_types":{"references":["var.instance_types"]},"labels":{"references":["var.eks_cluster_name","var.eks_cluster_name"]},"node_group_name":{"references":["var.eks_cluster_name"]},"node_role_arn":{"references":["var.node_group_iam_role.arn","var.node_group_iam_role"]},"scaling_config":[{"desired_size":{"references":["var.desired_size"]},"max_size":{"references":["var.max_size"]},"min_size":{"references":["var.min_size"]}}],"subnet_ids":{"references":["var.public_subnets[0].id","var.public_subnets[0]","var.public_subnets","var.public_subnets[1].id","var.public_subnets[1]","var.public_subnets","var.public_subnets[2].id","var.public_subnets[2]","var.public_subnets","var.private_subnets[0].id","var.private_subnets[0]","var.private_subnets","var.private_subnets[1].id","var.private_subnets[1]","var.private_subnets","var.private_subnets[2].id","var.private_subnets[2]","var.private_subnets"]},"tags":{"references":["var.eks_cluster_name"]},"update_config":[{"max_unavailable":{"references":["var.max_unavailable"]}}],"version":{"references":["var.k8s_version"]}},"schema_version":0,"count_expression":{"references":["var.public_subnets"]},"depends_on":["var.eks_cluster","var.oidc_provider","var.node_group_AmazonEKS_CNI_Policy","var.node_group_AmazonEKSWorkerNodePolicy","var.node_group_AmazonEC2ContainerRegistryReadOnly"]}],"variables":{"ami_type":{"default":"AL2_x86_64"},"capacity_type":{"default":"ON_DEMAND"},"desired_size":{"default":3},"disk_size":{"default":20},"ebs_csi":{},"eks_cluster":{},"eks_cluster_name":{},"force_update_version":{"default":false},"instance_types":{"default":["c3.large"]},"k8s_version":{"default":"1.29"},"max_size":{"default":3},"max_unavailable":{"default":3},"min_size":{"default":3},"node_group_AmazonEC2ContainerRegistryReadOnly":{},"node_group_AmazonEKSWorkerNodePolicy":{},"node_group_AmazonEKS_CNI_Policy":{},"node_group_iam_role":{},"oidc_provider":{},"private_subnets":{},"public_subnets":{}}}}},"variables":{"region":{"default":"us-east-1"}}}},"relevant_attributes":[{"resource":"module.iam.aws_iam_policy.pass_role_policy","attribute":["arn"]},{"resource":"module.kms.data.aws_kms_key.eks_secrets","attribute":["arn"]},{"resource":"module.node_group.aws_eks_node_group.node_group","attribute":[]},{"resource":"module.network.aws_subnet.public_subnets","attribute":[]},{"resource":"module.iam.aws_iam_openid_connect_provider.oidc_provider","attribute":["url"]},{"resource":"module.iam.aws_iam_role.ebs_csi_role","attribute":["name"]},{"resource":"module.network.aws_security_group.eks_sg","attribute":[]},{"resource":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEKSWorkerNodePolicy","attribute":[]},{"resource":"module.k8s.data.aws_eks_cluster_auth.cluster_auth","attribute":["token"]},{"resource":"module.iam.aws_iam_openid_connect_provider.oidc_provider","attribute":[]},{"resource":"module.network.aws_route_table.public_route_table","attribute":["id"]},{"resource":"module.eks.null_resource.update_kubeconfig","attribute":[]},{"resource":"module.network.aws_vpc.eks_vpc","attribute":["id"]},{"resource":"module.iam.data.aws_iam_policy_document.assume_role","attribute":["json"]},{"resource":"module.network.aws_eip.elastic_ip","attribute":[]},{"resource":"module.network.aws_internet_gateway.gw","attribute":[]},{"resource":"module.iam.aws_iam_role.eks_cluster_role","attribute":["arn"]},{"resource":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEC2ContainerRegistryReadOnly","attribute":[]},{"resource":"module.iam.aws_iam_role_policy_attachment.node_group_AmazonEKS_CNI_Policy","attribute":[]},{"resource":"module.iam.aws_iam_role.eks_pod_identity_role","attribute":["name"]},{"resource":"module.network.aws_vpc.eks_vpc","attribute":[]},{"resource":"module.iam.data.aws_iam_policy_document.oidc_assume_role_policy","attribute":["json"]},{"resource":"module.eks.aws_eks_cluster.eks","attribute":[]},{"resource":"module.eks.data.tls_certificate.oidc_cert","attribute":["url"]},{"resource":"module.eks.data.tls_certificate.oidc_cert","attribute":["certificates",0,"sha1_fingerprint"]},{"resource":"module.iam.aws_iam_role.eks_cluster_role","attribute":["name"]},{"resource":"module.iam.aws_iam_openid_connect_provider.oidc_provider","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.eks_pod_identity_role","attribute":[]},{"resource":"module.k8s.kubernetes_namespace.cve_processor_job_ns","attribute":["metadata",0,"name"]},{"resource":"module.iam.data.aws_iam_policy_document.node_group_assume_role_policy","attribute":["json"]},{"resource":"module.iam.aws_iam_role.node_group_role","attribute":["name"]},{"resource":"module.network.aws_route_table.private_route_table","attribute":[]},{"resource":"module.db.random_id.postgres","attribute":["hex"]},{"resource":"module.eks.aws_eks_addon.ebs_csi","attribute":[]},{"resource":"module.network.aws_internet_gateway.gw","attribute":["id"]},{"resource":"module.iam.aws_iam_policy.ebs_csi_custom_policy","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.ebs-pod-identity-role","attribute":["name"]},{"resource":"module.db.kubernetes_secret.postgresql","attribute":["metadata",0,"name"]},{"resource":"module.iam.data.aws_iam_policy_document.eks_assume_role_policy","attribute":["json"]},{"resource":"module.network.aws_nat_gateway.nat_gw","attribute":[]},{"resource":"module.network.aws_subnet.private_subnets","attribute":[]},{"resource":"module.iam.aws_iam_policy.ebs_csi_kms_policy","attribute":["arn"]},{"resource":"module.iam.data.aws_iam_policy_document.vpc_cni_assume_role_policy","attribute":["json"]},{"resource":"module.eks.aws_eks_cluster.eks","attribute":["name"]},{"resource":"module.iam.data.aws_iam_policy_document.pod_identity_assume_role_policy","attribute":["json"]},{"resource":"module.iam.aws_iam_role.vpc_cni_role","attribute":["name"]},{"resource":"module.iam.aws_iam_role.node_group_role","attribute":[]},{"resource":"module.iam.aws_iam_role.ebs_csi_role","attribute":[]},{"resource":"module.eks.aws_eks_cluster.eks","attribute":["identity",0,"oidc",0,"issuer"]},{"resource":"module.iam.data.aws_iam_policy_document.ebs_csi_assume_role_policy","attribute":["json"]},{"resource":"module.k8s.kubernetes_namespace.cve_consumer_app_ns","attribute":["metadata",0,"name"]},{"resource":"module.kms.data.aws_kms_key.ebs_kms_key_arn","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.vpc_cni_role","attribute":[]}],"timestamp":"2024-06-27T16:05:49Z"}
